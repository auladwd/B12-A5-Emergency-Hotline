<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emergency Service Directory</title>
  <!--  CDN for Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!--  Font Awesome CDN  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2eTj62/8d8t9B5F5P6L+g+6O4dC/d2g+f1Lg/8t5W2E5Lg/W5L+g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Message box Style -->

  <style>
    /* Custom styles for the modal/message box to avoid using alert() */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.4);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: #fefefe;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      max-width: 400px;
      text-align: center;
    }
  </style>

</head>

<body class="bg-gray-200 min-h-screen font-sans">

  <!-- displaying messages instead of alert() -->
  <div id="message-modal" class="modal">
    <div class="modal-content">
      <p id="modal-text" class="text-lg font-semibold mb-4"></p>
      <button id="modal-close-btn" class="bg-green-500 text-white px-4 py-2 rounded-full">বন্ধ করুন</button>
    </div>
  </div>

  <!-- Navbar -->

  <header>
    <nav>
      <div class="flex justify-between items-center p-4 bg-white shadow-md">
        <div class="flex items-center gap-4">
          <img class="w-[50px] rounded-full" src="./assets/logo.png" alt="Emergency Service Logo">
          <h1 class="font-bold text-lg">Emergency <br> Service </h1>
        </div>
        <div class="flex items-center gap-4">
          <div class="flex items-center gap-2 bg-gray-100 px-5 py-2 rounded-full">
            <p id="heart-count" class="font-bold text-gray-700">0</p>
            <img class="w-[40px]" src="./assets/heart.png" alt="">
          </div>
          <div class="flex items-center gap-2 bg-gray-100 px-5 py-2 rounded-full">
            <p id="coin-count" class="font-bold text-gray-700">100</p>
            <img class="w-[40px]" src="./assets/coin.png" alt="">
          </div>
          <!-- Copy button in header with ID for JavaScript functionality -->
          <button id="header-copy-btn"
            class="bg-green-600 font-bold rounded-full px-5 py-2 text-white shadow-lg flex items-center gap-2 hover:bg-blue-600 transition-colors">
            <span id="copy-count">0</span>
            <p>Copy</p>
          </button>
        </div>
      </div>
    </nav>
  </header>

  <main>

    <section>
      <div class="flex flex-col justify-center items-center gap-4 bg-green-800 py-10 text-white shadow-inner">
        <img class="w-[80px] rounded-full" src="./assets/logo.png" alt="Emergency Service Logo">
        <h1 class="font-bold text-3xl">জরুরি সেবা ডিরেক্টরি</h1>
        <p class="text-center max-w-lg mx-auto">Government Emergency Service at Your Fingertip - A Project By Government
          of the People's Republic of Bangladesh</p>
      </div>
    </section>

    <!-- Card Section -->

    <section class="p-4">
      <div class="flex flex-col md:flex-row justify-between gap-6">
        <!-- Main Content Area with cards -->
        <div class="md:w-3/4">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Card 1: National Emergency -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/emergency.png" alt="Emergency Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">জাতীয় জরুরি সেবা</h1>
              <h2 class="text-gray-600 subtitle">National Emergency</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">999</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">সার্বজনীন</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="999">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="National Emergency" data-phone="999">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 2: Police -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/police.png" alt="Police Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">পুলিশ</h1>
              <h2 class="text-gray-600 subtitle">Police</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">999</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">পুলিশ</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="999">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Police" data-phone="999">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 3: Fire Service -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/fire-service.png" alt="Fire Service Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">ফায়ার সার্ভিস</h1>
              <h2 class="text-gray-600 subtitle">Fire Service</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">999</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">সার্বজনীন</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="999">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Fire Service" data-phone="999">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 4: Ambulance -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/ambulance.png" alt="Ambulance Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">অ্যাম্বুলেন্স</h1>
              <h2 class="text-gray-600 subtitle">Ambulance</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">1994-999999</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">স্বাস্থ্য</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="1994-999999">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Ambulance" data-phone="1994-999999">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 5: Women & Child Helpline -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/emergency.png" alt="Emergency Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">নাবী ও শিশু সহায়তা</h1>
              <h2 class="text-gray-600 subtitle">Women & Child Helpline</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">109</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">সহায়তা</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="109">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Women & Child Helpline" data-phone="109">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 6: Anti-Corruption -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/emergency.png" alt="Emergency Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">দুদক</h1>
              <h2 class="text-gray-600 subtitle">Anti-Corruption</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">106</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">সরকারী</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="106">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="ACC" data-phone="106">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 7: Electricity -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/ambulance.png" alt="Ambulance Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">বিদ্যুৎ বিভ্রাট</h1>
              <h2 class="text-gray-600 subtitle">Electricity Outage</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">16216</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">বিদ্যুৎ</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="1994-999999">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Ambulance" data-phone="1994-999999">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 8: Brac -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/brac.png" alt="Emergency Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">ব্র্যাক</h1>
              <h2 class="text-gray-600 subtitle">Brac</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">16445</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">এনজিও</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="109">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="Women & Child Helpline" data-phone="109">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

            <!-- Card 9: Bangladesh Railway -->
            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
              <div class="flex justify-between items-start">
                <img class="w-[50px] rounded-lg" src="./assets/Bangladesh-Railway.png" alt="Emergency Icon">
                <span class="text-2xl cursor-pointer fav-btn">
                  <i class="fa-regular fa-heart text-gray-400 hover:text-red-500 transition-colors"></i>
                </span>
              </div>
              <br>
              <h1 class="font-bold text-xl">বাংলাদেশ রেলওয়ে</h1>
              <h2 class="text-gray-600 subtitle">Bangladesh-Railway</h2>
              <br>
              <h1 class="font-bold text-2xl phone-number">163</h1>
              <br>
              <div>
                <h1 class="bg-gray-300 inline-block px-3 py-1 text-sm rounded-full text-gray-800">পরিবহন</h1>
              </div>
              <div class="flex gap-4 mt-4 justify-between items-end">
                <button
                  class="px-5 py-2 border-2 border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors copy-btn"
                  data-number="106">
                  <i class="fa-regular fa-copy"></i> Copy
                </button>
                <button
                  class="px-5 py-2 border-2 border-green-500 rounded-md bg-green-500 text-white hover:bg-green-600 transition-colors call-btn"
                  data-service="ACC" data-phone="106">
                  <i class="fa-solid fa-phone"></i> Call
                </button>
              </div>
            </div>

          </div>
        </div>



        <!-- Call History Section  -->
        <div class="md:w-1/4 bg-white p-4 rounded-lg shadow-md">
          <div class="flex justify-between items-center mb-4">
            <div class="flex items-center gap-2">
              <h1 class="text-2xl font-bold"><i class="fa-regular fa-clock"></i> Call History</h1>
            </div>
            <div>
              <button id="clear-history-btn"
                class="bg-green-500 font-bold rounded-full px-5 py-2 text-white hover:bg-red-600 transition-colors">Clear</button>
            </div>
          </div>
          <div id="call-history-container">
            <!-- History items will be added here dynamically -->
            <p class="text-center text-gray-500">No calls made yet.</p>
          </div>
        </div>
      </div>
    </section>



  </main>



  <!-- Functionalities -->
  <script>
    // Get all necessary DOM elements
    const heartCountEl = document.getElementById('heart-count');
    const coinCountEl = document.getElementById('coin-count');
    const copyCountEl = document.getElementById('copy-count');
    const callBtns = document.querySelectorAll('.call-btn');
    const favBtns = document.querySelectorAll('.fav-btn');
    const copyBtns = document.querySelectorAll('.copy-btn');
    const clearHistoryBtn = document.getElementById('clear-history-btn');
    const callHistoryContainer = document.getElementById('call-history-container');
    const messageModal = document.getElementById('message-modal');
    const modalText = document.getElementById('modal-text');
    const modalCloseBtn = document.getElementById('modal-close-btn');

    // Function to show the custom modal
    function showMessage(message) {
      modalText.textContent = message;
      messageModal.style.display = 'flex';
    }

    // Close button for the modal
    modalCloseBtn.addEventListener('click', () => {
      messageModal.style.display = 'none';
    });

    // Event listener for favorite buttons
    favBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        let currentCount = parseInt(heartCountEl.textContent);
        heartCountEl.textContent = currentCount + 1;
        // Optional: Change heart icon color to indicate it's favorited
        btn.querySelector('i').classList.remove('text-gray-400', 'fa-regular');
        btn.querySelector('i').classList.add('text-red-500', 'fa-solid');
      });
    });

    // Event listener for copy buttons
    copyBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const numberToCopy = btn.dataset.number;
        if (numberToCopy) {
          // Create a temporary input element to copy the text
          const tempInput = document.createElement('input');
          tempInput.value = numberToCopy;
          document.body.appendChild(tempInput);
          tempInput.select();
          document.execCommand('copy');
          document.body.removeChild(tempInput);

          // Show a message and update copy count
          showMessage('কপি হয়েছে!');
          let currentCount = parseInt(copyCountEl.textContent);
          copyCountEl.textContent = currentCount + 1;
        }
      });
    });

    // Event listener for call buttons
    callBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        let currentCoins = parseInt(coinCountEl.textContent);
        if (currentCoins >= 20) {
          // Decrease coins
          coinCountEl.textContent = currentCoins - 20;

          // Get service name and phone number
          const serviceName = btn.dataset.service;
          const phoneNumber = btn.dataset.phone;

          // Show message box with service name and number
          showMessage(`${serviceName} - ${phoneNumber}`);

          // Add to call history
          const now = new Date();
          const timeString = now.toLocaleTimeString('bn-BD', { hour: '2-digit', minute: '2-digit', second: '2-digit' });

          const newHistoryItem = document.createElement('div');
          newHistoryItem.className = 'bg-gray-100 rounded-md p-4 mb-2 shadow-sm';
          newHistoryItem.innerHTML = `
                          <div class="flex justify-between items-center">
                              <div>
                                  <h1 class="font-semibold">${btn.parentElement.parentElement.querySelector('h1').textContent}</h1>
                                  <p class="text-sm text-gray-600">${phoneNumber}</p>
                              </div>
                              <div>
                                  <p class="text-xs text-gray-500">${timeString}</p>
                              </div>
                          </div>
                      `;

          // If "No calls made yet" message exists, remove it
          const noCallsMessage = callHistoryContainer.querySelector('.text-gray-500');
          if (noCallsMessage) {
            noCallsMessage.remove();
          }

          // Add new item to the top of the history list
          callHistoryContainer.prepend(newHistoryItem);

        } else {
          showMessage('আপনার পর্যাপ্ত কয়েন নেই।');
        }
      });
    });

    // Event listener for clearing call history
    clearHistoryBtn.addEventListener('click', () => {
      callHistoryContainer.innerHTML = '<p class="text-center text-gray-500">No calls made yet.</p>';
    });

  </script>


</body>

</html>